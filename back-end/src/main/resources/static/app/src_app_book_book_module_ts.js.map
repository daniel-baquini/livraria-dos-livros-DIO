{"version":3,"file":"src_app_book_book_module_ts.js","mappings":"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","sources":["./src/app/book/book-detail-page/book-detail-page.component.ts","./src/app/book/book-detail-page/book-detail-page.component.html","./src/app/book/book.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CartManagementService } from 'src/app/cart/cart-management.service';\nimport Book from 'src/app/shared/backend/book/book.model';\nimport { BookService } from 'src/app/shared/backend/book/book.service';\n\n@Component({\n    selector: 'app-book-detail-page',\n    templateUrl: './book-detail-page.component.html',\n    styleUrls: ['./book-detail-page.component.css']\n})\nexport class BookDetailPageComponent {\n\n    book: Book | undefined;\n    showInstallmentModal: boolean = false;\n\n    constructor(\n        private activatedRoute: ActivatedRoute,\n        bookService: BookService,\n        private cartManagementService: CartManagementService,\n        router: Router\n    ) {\n        const routeId: any = activatedRoute.snapshot.params[\"id\"];\n        if(routeId === undefined) {\n            router.navigateByUrl(\"/\")\n        }\n\n        bookService.read(routeId).subscribe(x => {\n            this.book = x;\n        });\n    }\n\n    get isItemOnCart(): boolean {\n        return this.cartManagementService.isOnCart(\n            parseInt(this.activatedRoute.snapshot.params['id'])            \n        );\n    }\n\n    get priceInCentavos(): string {\n        if(!this.book) return \"\";\n\n        return `${Math.floor((this.book.price - Math.floor(this.book.price))*100)}`.padEnd(2, \"0\");\n    }\n\n    get priceInReal(): number {\n        if(!this.book) return 0;\n\n        return Math.floor(this.book.price);\n    }\n\n    addToCart(): void {\n        // This function is called only from a element that will be rendered when this.book !== undefined,\n        // so, we can use the \"!\".\n        this.cartManagementService.addItem(this.book!);\n    }\n\n    toggleShowInstallmentModal(): void {\n        this.showInstallmentModal = !this.showInstallmentModal;\n    }\n\n}\n","<app-default-page>\n    <ng-container *ngIf=\"this.book\">\n        <div class=\"book-info\">\n            <div class=\"book-cover\">\n                <img alt=\"Capa do livro\" [src]=\"this.book.bookCoverUrl\">\n            </div>\n            <div class=\"book-data\">\n                <div class=\"book-data__name-author-and-rate\">\n                    <div class=\"book-data__name-and-author\">\n                        <span class=\"book-data__name text-preset-520\">{{this.book.title}}</span>\n                        <span class=\"book-data__author text-preset-350\">Por: {{this.book.author}}</span>\n                    </div>\n                    <div class=\"book-data__rate\">\n                        <div class=\"rate__stars\">\n                            <span class=\"icon-full-star\"></span>\n                            <span class=\"icon-full-star\"></span>\n                            <span class=\"icon-full-star\"></span>\n                            <span class=\"icon-full-star\"></span>\n                            <span class=\"icon-empty-star\"></span>\n                        </div>\n                        <span class=\"rate__quantity\">({{this.book.reviewsQuantity}})</span>\n                    </div>\n                </div>\n                <div class=\"book-data__price-and-installment\">\n                    <span class=\"book-data__price text-preset-430\">R$ {{this.priceInReal}}<span class=\"text-preset-230\">,{{this.priceInCentavos}}</span></span>\n                    <span class=\"book-data__installment text-preset-350\">ou até 4x de R$ 17,50 sem juros - <span class=\"installment__link\" (click)=\"this.toggleShowInstallmentModal()\">Ver parcelamento</span></span>\n                </div>\n                <div class=\"book-buy-or-add-to-cart\" *ngIf=\"!this.isItemOnCart\">\n                    <app-button [label]=\"'Comprar'\"></app-button>\n                    <app-button (click)=\"this.addToCart()\" [label]=\"'Adicionar ao carrinho'\" [type]=\"'secondary'\"></app-button>\n                </div>\n                <div class=\"book-added-to-cart\" *ngIf=\"this.isItemOnCart\">\n                    <span class=\"icon-check\"></span>\n                    <span class=\"book-added-to-cart__label\">Adicionado ao carrinho</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"book-synopsis\">\n            <span class=\"book-synopsis__section-title text-preset-520\">Sinopse</span>\n            <span class=\"book-synopsis__description text-preset-450\">{{this.book.description}}</span>\n        </div>\n    </ng-container>\n</app-default-page>\n<app-modal\n    (closeButtonClick)=\"this.toggleShowInstallmentModal()\"\n    [closeButtonLabel]=\"'Entendido'\"\n    *ngIf=\"this.showInstallmentModal\"\n    [title]=\"'Opções de parcelamento'\"\n>\n    <table class=\"table\">\n        <tbody>\n            <tr>\n                <td>1x sem juros</td>\n                <td class=\"price-cell\">{{ 70 | currency }}</td>\n            </tr>\n            <tr>\n                <td>2x sem juros</td>\n                <td class=\"price-cell\">{{ 35 | currency }}</td>\n            </tr>\n            <tr>\n                <td>3x sem juros</td>\n                <td class=\"price-cell\">{{ 23.34 | currency }}</td>\n            </tr>\n            <tr>\n                <td>4x sem juros</td>\n                <td class=\"price-cell\">{{ 17.5 | currency }}</td>\n            </tr>\n            <tr>\n                <td>5x com juros (2% ao mês)</td>\n                <td class=\"price-cell\">{{ 14.28 | currency }}</td>\n            </tr>\n        </tbody>\n    </table>\n</app-modal>","import { BookDetailPageComponent } from './book-detail-page/book-detail-page.component';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../shared/shared.module';\n\nconst bookRoutes: Routes = [\n    {\n        component: BookDetailPageComponent,\n        path: \":id\"\n    }\n];\n\n@NgModule({\n    declarations: [\n        BookDetailPageComponent\n    ],\n    imports: [\n        RouterModule.forChild(bookRoutes),\n        SharedModule\n    ]\n})\nexport class BookModule { }\n"],"names":[],"sourceRoot":"webpack:///"}