{"version":3,"file":"src_app_book_book_module_ts.js","mappings":"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","sources":["./src/app/book/book-detail-page/book-detail-page.component.ts","./src/app/book/book-detail-page/book-detail-page.component.html","./src/app/book/book.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CartManagementService } from 'src/app/cart/cart-management.service';\nimport Book from 'src/app/shared/backend/book/book.model';\nimport { BookService } from 'src/app/shared/backend/book/book.service';\n\n@Component({\n    selector: 'app-book-detail-page',\n    templateUrl: './book-detail-page.component.html',\n    styleUrls: ['./book-detail-page.component.css']\n})\nexport class BookDetailPageComponent {\n\n    book: Book | undefined;\n\n    constructor(\n        private activatedRoute: ActivatedRoute,\n        bookService: BookService,\n        private cartManagementService: CartManagementService,\n        private router: Router\n    ) {\n        const routeId: any = activatedRoute.snapshot.params[\"id\"];\n        if(routeId === undefined) {\n            this.router.navigateByUrl(\"/\")\n        }\n\n        bookService.read(routeId).subscribe(x => {\n            this.book = x;\n        });\n    }\n\n    get isItemOnCart(): boolean {\n        return this.cartManagementService.isOnCart(\n            parseInt(this.activatedRoute.snapshot.params['id'])            \n        );\n    }\n\n    get priceInCentavos(): string {\n        if(!this.book) return \"\";\n\n        return `${Math.floor((this.book.price - Math.floor(this.book.price))*100)}`.padEnd(2, \"0\");\n    }\n\n    get priceInReal(): number {\n        if(!this.book) return 0;\n\n        return Math.floor(this.book.price);\n    }\n\n    addToCart(): void {\n        // This function is called only from a element that will be rendered when this.book !== undefined,\n        // so, we can use the \"!\".\n        this.cartManagementService.addItem(this.book!);\n    }\n\n    buyNow(): void {\n        this.addToCart();\n        this.router.navigateByUrl(\"/cart\");\n    }\n\n}\n","<app-default-page>\n    <ng-container *ngIf=\"this.book\">\n        <div class=\"book-info\">\n            <div class=\"book-cover\">\n                <img alt=\"Capa do livro\" [src]=\"this.book.bookCoverUrl\">\n            </div>\n            <div class=\"book-data\">\n                <div class=\"book-data__name-author-and-rate\">\n                    <div class=\"book-data__name-and-author\">\n                        <span class=\"book-data__name text-preset-520\">{{this.book.title}}</span>\n                        <span class=\"book-data__author text-preset-350\">Por: {{this.book.author}}</span>\n                    </div>\n                </div>\n                <span class=\"book-data__price text-preset-430\">R$ {{this.priceInReal}}<span class=\"text-preset-230\">,{{this.priceInCentavos}}</span></span>\n                <div class=\"book-buy-or-add-to-cart\" *ngIf=\"!this.isItemOnCart && this.book.quantity > 0\">\n                    <app-button (btnClick)=\"this.buyNow()\" [label]=\"'Comprar'\"></app-button>\n                    <app-button (btnClick)=\"this.addToCart()\" [label]=\"'Adicionar ao carrinho'\" [type]=\"'secondary'\"></app-button>\n                </div>\n                <div class=\"book-added-to-cart\" *ngIf=\"this.isItemOnCart && this.book.quantity > 0\">\n                    <span class=\"icon-check\"></span>\n                    <span class=\"book-added-to-cart__label\">Adicionado ao carrinho</span>\n                </div>\n                <span class=\"book-data__out-of-stock text-preset-350\" *ngIf=\"this.book.quantity === 0\">Fora de estoque</span>\n            </div>\n        </div>\n        <div class=\"book-synopsis\">\n            <span class=\"book-synopsis__section-title text-preset-520\">Sinopse</span>\n            <span class=\"book-synopsis__description text-preset-450\">{{this.book.description}}</span>\n        </div>\n    </ng-container>\n</app-default-page>","import { BookDetailPageComponent } from './book-detail-page/book-detail-page.component';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../shared/shared.module';\n\nconst bookRoutes: Routes = [\n    {\n        component: BookDetailPageComponent,\n        path: \":id\"\n    }\n];\n\n@NgModule({\n    declarations: [\n        BookDetailPageComponent\n    ],\n    imports: [\n        RouterModule.forChild(bookRoutes),\n        SharedModule\n    ]\n})\nexport class BookModule { }\n"],"names":[],"sourceRoot":"webpack:///"}